(function(t){function e(e){for(var r,i,a=e[0],u=e[1],c=e[2],d=0,m=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],r=!0,a=1;a<s.length;a++){var u=s[a];0!==o[u]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var r={},o={app:0},n=[];function i(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=r,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"285b":function(t,e,s){var r={"./ar":"8b23","./ar.js":"8b23","./az":"0fd6","./az.js":"0fd6","./be":"a1de","./be.js":"a1de","./bg":"102b","./bg.js":"102b","./bs":"d1c3","./bs.js":"d1c3","./ca":"1b37","./ca.js":"1b37","./cs":"8981","./cs.js":"8981","./cy":"3ced","./cy.js":"3ced","./da":"7f8d","./da.js":"7f8d","./de":"be39","./de.js":"be39","./el":"1866","./el.js":"1866","./en":"6788","./en.js":"6788","./es":"8b4b","./es.js":"8b4b","./et":"df57","./et.js":"df57","./eu":"b9bc","./eu.js":"b9bc","./fa":"83c4","./fa.js":"83c4","./fi":"1137","./fi.js":"1137","./fr":"2849","./fr.js":"2849","./hr":"2e0c","./hr.js":"2e0c","./hu":"62a6","./hu.js":"62a6","./id":"7fc0","./id.js":"7fc0","./it":"d6e0","./it.js":"d6e0","./ja":"7d74","./ja.js":"7d74","./ka":"14c9","./ka.js":"14c9","./ko":"58ac","./ko.js":"58ac","./lt":"845c","./lt.js":"845c","./lv":"c6c3","./lv.js":"c6c3","./mk":"9fc9","./mk.js":"9fc9","./mn":"a3d2","./mn.js":"a3d2","./ms":"f45d","./ms.js":"f45d","./nb_NO":"bfd4","./nb_NO.js":"bfd4","./nl":"7ab1","./nl.js":"7ab1","./pl":"8ef3","./pl.js":"8ef3","./pt":"61d8","./pt.js":"61d8","./pt_BR":"1911","./pt_BR.js":"1911","./ro":"937f","./ro.js":"937f","./ru":"7f57","./ru.js":"7f57","./se":"c47d","./se.js":"c47d","./sl":"7f0b","./sl.js":"7f0b","./sq":"f373","./sq.js":"f373","./sr":"6f79","./sr.js":"6f79","./sv":"0c56","./sv.js":"0c56","./tr":"4bda","./tr.js":"4bda","./ua":"626a","./ua.js":"626a","./uk":"0874","./uk.js":"0874","./vi":"ee20","./vi.js":"ee20","./zh":"0ede","./zh.js":"0ede","./zh_TW":"4690","./zh_TW.js":"4690"};function o(t){var e=n(t);return s(e)}function n(t){if(!s.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=n,t.exports=o,o.id="285b"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r,o=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("h1",[t._v("Micro Blog")]),s("nav",[s("ul",[s("li",{staticClass:"nav"},t._l(t.links,(function(e){return s("router-link",{key:e,attrs:{to:t.paths[e],exact:""}},[t._v(t._s(e))])})),1)])]),s("router-view")],1)},i=[],a={name:"App",data:function(){return{links:["home","all","submit","account","subscriptions"],paths:{home:"/",all:"/all",submit:"/submit",account:"/account",subscriptions:"/subscriptions"}}},mounted:function(){this.$store.dispatch("fetchPosts"),this.$store.dispatch("fetchComments"),this.$store.dispatch("authUser")}},u=a,c=(s("efc4"),s("2877")),l=Object(c["a"])(u,n,i,!1,null,null,null),d=l.exports,m=s("8c4f"),p=(s("4de4"),s("d3b7"),s("2f62")),b=s("bc3a").create({baseURL:null!==(r="http://e28-api.mystphy.sx")&&void 0!==r?r:"http://e28-api.e28.loc",responseType:"json",withCredentials:!0});o["a"].use(p["a"]);var f=new p["a"].Store({state:{posts:[],comments:[],user:null},mutations:{setPosts:function(t,e){t.posts=e},setComments:function(t,e){t.comments=e},setUser:function(t,e){t.user=e}},actions:{fetchPosts:function(t){b.get("post").then((function(e){t.commit("setPosts",e.data.post)}))},fetchComments:function(t){b.get("comment").then((function(e){t.commit("setComments",e.data.comment)}))},authUser:function(t){return new Promise((function(e){b.post("auth").then((function(s){s.data.authenticated?t.commit("setUser",s.data.user):t.commit("setUser",!1),e()}))}))}},getters:{getPostById:function(t){return function(e){return t.posts.filter((function(t){return t.id==e}),this.id)[0]}},getPostComments:function(t){return function(e){return t.comments.filter((function(t){return t.postID==e}),this.id)}},getCommentById:function(t){return function(e){return t.comments.filter((function(t){return t.id==e}),this.id)[0]}}}}),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"posts"}},[s("p",[t._v(' A work in progress micro blog site. You can find the last three written posts on this homepage or you can visit the "all" page to see a list of all posts ever. Clicking on any post will take you to the page for that post where you can comment and read comments from other users. You can also submit your own post in an anonymous fashion by clicking submit above, or login to submit under your username by clicking on account above. ')]),s("h2",[t._v("Most Recent Micro Blog Posts")]),t._l(t.recentPosts,(function(t){return s("router-link",{key:t.id,attrs:{to:"/all/"+t.id,exact:""}},[s("BlogPost",{attrs:{id:t.id,"data-test":"home-post"}})],1)}))],2)},v=[],_=(s("fb6a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"post"}},[s("div",{attrs:{id:"post-title","data-test":"post-title"}},[t._v(t._s(t.post.title))]),s("p",{attrs:{id:"post-body"}},[t._v(t._s(t.post.body))]),s("div",{attrs:{id:"blog-username","data-test":"post-username"}},[t._v(" By "+t._s(t.post.userName)+" "),s("div",{attrs:{id:"ts"}},[t._v(t._s(t.timestamp))])])])}),y=[],g={name:"",props:["id"],data:function(){return{}},computed:{post:function(){return this.$store.getters.getPostById(this.id)},timestamp:function(){return new Date(this.post.updated_at)}}},w=g,E=Object(c["a"])(w,_,y,!1,null,null,null),j=E.exports,S={name:"",components:{BlogPost:j},data:function(){return{}},computed:{recentPosts:function(){return this.$store.state.posts.slice(-3).reverse()}}},k=S,C=Object(c["a"])(k,h,v,!1,null,null,null),P=C.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"posts"}},[s("h2",[t._v("All Micro Blog Posts")]),t._l(t.reversedPosts,(function(t){return s("router-link",{key:t.id,attrs:{to:"/all/"+t.id,exact:""}},[s("BlogPost",{attrs:{id:t.id}})],1)}))],2)},$=[],D={name:"",components:{BlogPost:j},data:function(){return{}},computed:{reversedPosts:function(){return this.$store.state.posts.slice().reverse()}}},O=D,M=Object(c["a"])(O,x,$,!1,null,null,null),N=M.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"submit-post"}},[s("h4",[t._v("Submit a post")]),s("h5",[t._v("User: "+t._s(t.username))]),s("div",{attrs:{id:"inputs"}},[s("label",{attrs:{for:"title"}},[t._v("Title (Max 50 Characters)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],attrs:{type:"text",placeholder:"Enter a title...",id:"title","data-test":"submit-title"},domProps:{value:t.post.title},on:{click:t.clearErrors,blur:t.validate,input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value)}}}),s("label",{attrs:{for:"body"}},[t._v("Post (Max 5000 Characters)")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post.body,expression:"post.body"}],attrs:{placeholder:"Your post content...",id:"body","data-test":"submit-body"},domProps:{value:t.post.body},on:{click:t.clearErrors,blur:t.validate,input:function(e){e.target.composing||t.$set(t.post,"body",e.target.value)}}})]),s("button",{attrs:{"data-test":"submit-button"},on:{click:t.submitPost}},[t._v("Submit Post")]),t.errors?s("ErrorDisplay",{attrs:{errors:t.errors}}):t._e(),t.clientErrors?s("ClientErrorDisplay",{attrs:{clientErrors:t.clientErrors}}):t._e(),t.showConfirmationMessage?s("div",{attrs:{id:"success"}},[s("h3",[t._v("Success!")]),s("router-link",{attrs:{to:"/all/",exact:""}},[t._v("See your post on the main page...")])],1):t._e()],1)},B=[],U=(s("b0c0"),s("1c4a")),T=s.n(U),L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"error"}},t._l(t.clientErrors,(function(e,r){return s("ul",{key:r},t._l(e,(function(e,r){return s("li",{key:r},[t._v(" "+t._s(e)+" ")])})),0)})),0)},Y=[],q={name:"",props:["clientErrors"],data:function(){return{}}},I=q,z=Object(c["a"])(I,L,Y,!1,null,null,null),R=z.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.errors?s("div",{attrs:{id:"error"}},t._l(t.errors,(function(e,r){return s("ul",{key:r},t._l(e,(function(e,r){return s("li",{key:r},[t._v(" "+t._s(e)+" ")])})),0)})),0):t._e()},J=[],W={name:"",props:["errors"],data:function(){return{}}},G=W,H=Object(c["a"])(G,F,J,!1,null,null,null),K=H.exports,Q={name:"",components:{ClientErrorDisplay:R,ErrorDisplay:K},data:function(){return{errors:null,clientErrors:{},showConfirmationMessage:!1,post:{title:"",body:"",userName:""}}},computed:{username:function(){return this.$store.state.user?this.$store.state.user.name:"Anonymous"}},methods:{submitPost:function(){var t=this;this.clientErrors["title"]||this.clientErrors["body"]||(this.post.userName=this.username,b.post("/post",this.post).then((function(e){e.data.errors?t.errors=e.data.errors:(t.showConfirmationMessage=!0,t.$store.dispatch("fetchPosts"),t.post.body="",t.post.title="",setTimeout((function(){return t.showConfirmationMessage=!1}),2e3))})))},clearErrors:function(){this.errors=null},validate:function(){var t=new T.a(this.post,{title:"required|max:50",body:"required|max:5000"});return t.setAttributeNames({body:"post"}),this.clientErrors=t.errors.all(),t.passes()}}},V=Q,X=Object(c["a"])(V,A,B,!1,null,null,null),Z=X.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"post-page"}},[t.post?s("div",[s("BlogPost",{attrs:{id:t.id}}),s("CommentSubmit",t._g({attrs:{id:t.id}},t.$listeners)),s("h2",[t._v("Comments")]),t._l(t.postComments,(function(t){return s("ShowComment",{key:t.id,attrs:{id:t.id}})}))],2):t._e(),t.postNotFound?s("div",[s("p",[t._v("Post with id "+t._s(t.id)+" not found.")]),s("router-link",{attrs:{to:"/all"}},[t._v("Go back to all posts.")])],1):t._e()])},et=[],st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",{attrs:{"data-test":"comment-form"}},[t._v("Submit a comment")]),s("div",{attrs:{id:"inputs"}},[s("h5",[t._v("User: "+t._s(t.username))]),s("label",{attrs:{for:"body"}},[t._v("Comment (Max 200 Characters)")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment.body,expression:"comment.body"}],attrs:{placeholder:"Your comment...",id:"body","data-test":"comment-body-submit"},domProps:{value:t.comment.body},on:{click:t.clearErrors,blur:t.validate,input:function(e){e.target.composing||t.$set(t.comment,"body",e.target.value)}}})]),s("button",{attrs:{"data-test":"comment-submit"},on:{click:t.submitComment}},[t._v(" Submit Comment ")]),t.errors?s("ErrorDisplay",{attrs:{errors:t.errors}}):t._e(),t.clientErrors?s("ClientErrorDisplay",{attrs:{clientErrors:t.clientErrors}}):t._e(),t.showConfirmationMessage?s("div",{attrs:{id:"success"}},[s("h3",[t._v("Success!")])]):t._e()],1)},rt=[],ot={name:"",components:{ClientErrorDisplay:R,ErrorDisplay:K},props:["id"],data:function(){return{errors:null,clientErrors:{},showConfirmationMessage:!1,comment:{userName:"",body:"",postID:this.id}}},computed:{username:function(){return this.$store.state.user?this.$store.state.user.name:"Anonymous"}},methods:{submitComment:function(){var t=this;this.clientErrors["body"]||(this.comment.userName=this.username,b.post("/comment",this.comment).then((function(e){e.data.errors?t.errors=e.data.errors:(t.showConfirmationMessage=!0,t.$store.dispatch("fetchComments"),t.comment.body="",setTimeout((function(){return t.showConfirmationMessage=!1}),2e3))})))},clearErrors:function(){this.errors=null},validate:function(){var t=new T.a(this.comment,{body:"required|max:200"});return t.setAttributeNames({body:"comment"}),this.clientErrors=t.errors.all(),t.passes()}}},nt=ot,it=Object(c["a"])(nt,st,rt,!1,null,null,null),at=it.exports,ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"comment"}},[s("div",{attrs:{id:"comment-username","data-test":"comment-username"}},[t._v(" "+t._s(t.comment.userName)+" "),s("div",{attrs:{id:"ts"}},[t._v(t._s(t.timestamp))])]),s("p",{attrs:{id:"comment-body","data-test":"comment-body"}},[t._v(t._s(t.comment.body))])])},ct=[],lt={name:"",props:["id"],data:function(){return{}},computed:{comment:function(){return this.$store.getters.getCommentById(this.id)},timestamp:function(){return new Date(this.comment.updated_at)}}},dt=lt,mt=Object(c["a"])(dt,ut,ct,!1,null,null,null),pt=mt.exports,bt={name:"",props:["id"],components:{BlogPost:j,CommentSubmit:at,ShowComment:pt},data:function(){return{}},computed:{post:function(){return this.$store.getters.getPostById(this.id)},postNotFound:function(){return null==this.post},postComments:function(){return this.$store.getters.getPostComments(this.id)}}},ft=bt,ht=Object(c["a"])(ft,tt,et,!1,null,null,null),vt=ht.exports,_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"account-page"}},[t.user?s("div",[s("h4",{attrs:{"data-test":"welcome-message"}},[t._v("Hello, "+t._s(t.user.name)+"!")]),s("button",{attrs:{"data-test":"logout-button"},on:{click:t.logout}},[t._v("Logout")]),s("br"),s("h4",[t._v("Current Subscriptions")]),s("ul",t._l(t.subscriptions,(function(e){return s("li",{key:e.id,attrs:{"data-test":"sub"}},[t._v(" "+t._s(e.sub)+" ")])})),0),s("br"),s("br"),s("h4",[t._v("Add a Subscription")]),s("p",[t._v(" Enter a username to subscribe to their posts below. You can only subscribe to someone who has previously posted. ")]),s("div",{attrs:{id:"inputs"}},[s("label",{attrs:{for:"user"}},[t._v("Username:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newSub,expression:"newSub"}],attrs:{type:"text",placeholder:"Username...",id:"newSub","data-test":"add-sub-input"},domProps:{value:t.newSub},on:{click:t.clearErrors,blur:t.validateAdd,input:function(e){e.target.composing||(t.newSub=e.target.value)}}})]),s("button",{attrs:{"data-test":"add-sub-button"},on:{click:t.addSub}},[t._v("Add")]),"Add"==t.errors.type?s("ErrorDisplay",{attrs:{errors:t.errors.message}}):t._e(),t.clientErrors&&"newSub"in t.clientErrors?s("ClientErrorDisplay",{attrs:{clientErrors:t.clientErrors}}):t._e(),"Add"==t.showConfirmationMessage?s("div",{attrs:{id:"success"}},[s("h3",[t._v("Success!")])]):t._e(),s("br"),s("br"),s("h4",[t._v("Unsubscribe")]),s("p",[t._v(" Enter a username below to unsubscribe from their posts. You can only unsubscribe from someone you are already subscribed to (check subs above). ")]),s("div",{attrs:{id:"inputs"}},[s("label",{attrs:{for:"user"}},[t._v("Username:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.oldSub,expression:"oldSub"}],attrs:{type:"text",placeholder:"Username...",id:"oldSub","data-test":"del-sub-input"},domProps:{value:t.oldSub},on:{click:t.clearErrors,blur:t.validateDel,input:function(e){e.target.composing||(t.oldSub=e.target.value)}}})]),s("button",{attrs:{"data-test":"del-sub-button"},on:{click:t.delSub}},[t._v("Unsubscribe")]),"Del"==t.errors.type?s("ErrorDisplay",{attrs:{errors:t.errors.message}}):t._e(),t.clientErrors&&"oldSub"in t.clientErrors?s("ClientErrorDisplay",{attrs:{clientErrors:t.clientErrors}}):t._e(),"Del"==t.showConfirmationMessage?s("div",{attrs:{id:"success"}},[s("h3",[t._v("Success!")])]):t._e()],1):s("div",[s("h4",[t._v("Login:")]),s("div",{attrs:{id:"inputs"}},[s("label",{attrs:{for:"email"}},[t._v("Email:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.data.email,expression:"data.email"}],attrs:{type:"email",placeholder:"Email...",id:"email","data-test":"email-input"},domProps:{value:t.data.email},on:{click:t.clearErrors,blur:t.validateLogin,input:function(e){e.target.composing||t.$set(t.data,"email",e.target.value)}}}),s("label",{attrs:{for:"pass"}},[t._v("Password:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],attrs:{type:"password",placeholder:"Password...",id:"pass","data-test":"password-input"},domProps:{value:t.data.password},on:{click:t.clearErrors,blur:t.validateLogin,input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}})]),s("button",{attrs:{"data-test":"login-button"},on:{click:t.login}},[t._v("Login")]),"Login"==t.errors.type?s("ErrorDisplay",{attrs:{errors:t.errors.message}}):t._e(),t.clientErrors?s("ClientErrorDisplay",{attrs:{clientErrors:t.clientErrors}}):t._e()],1)])},yt=[],gt=(s("7db0"),s("c740"),s("d81d"),s("4c53"),{name:"",components:{ClientErrorDisplay:R,ErrorDisplay:K},data:function(){return{errors:{},clientErrors:{},showConfirmationMessage:"",data:{email:"",password:""},newSub:"",oldSub:"",subscriptions:[]}},computed:{user:function(){return this.$store.state.user}},methods:{loadSubscriptions:function(){var t=this;this.user&&b.get("subscription").then((function(e){t.subscriptions=e.data.subscription.map((function(t){return t}))}))},addSub:function(){var t=this;if(!this.clientErrors["newSub"]){var e=this.newSub;if("Anonymous"!=e&&e!=this.user.name){var s=this.subscriptions.find((function(t){return t.sub==e}));if(s)this.errors={type:"Add",message:[["You are already subscribed to this person."]]};else{var r=this.$store.state.posts.find((function(t){return t.userName==e}));void 0===r?this.errors={type:"Add",message:[["There are no posts made by this user."]]}:b.post("/subscription",{sub:e}).then((function(e){e.data.errors?t.errors={type:"Add",message:[e.data.errors]}:(t.showConfirmationMessage="Add",t.loadSubscriptions(),t.newsub="",setTimeout((function(){return t.showConfirmationMessage=""}),2e3))}))}}else this.errors={type:"Add",message:[["You cannot subscribe to the default Anonymous user or yourself."]]}}},delSub:function(){var t=this;if(!this.clientErrors["oldSub"]){var e=this.oldSub,s=this.subscriptions.findIndex((function(t){return t.sub==e}));console.log(s),-1==s?this.errors={type:"Del",message:[["You are not subscribed to this person."]]}:b.delete("/subscription/"+this.subscriptions[s].id).then((function(e){e.data.errors?t.errors={type:"Del",message:[e.data.errors]}:(t.showConfirmationMessage="Del",t.loadSubscriptions(),t.oldSub="",setTimeout((function(){return t.showConfirmationMessage=""}),2e3))}))}},login:function(){var t=this;this.clientErrors["email"]||this.clientErrors["password"]||b.post("login",this.data).then((function(e){e.data.authenticated?(t.$store.commit("setUser",e.data.user),t.data.email="",t.data.password=""):t.errors={type:"Login",message:[e.data.errors]}}))},logout:function(){var t=this;b.post("logout").then((function(e){e.data.success&&t.$store.commit("setUser",null)}))},clearErrors:function(){this.errors={},this.clientErrors={}},validateLogin:function(){var t=new T.a(this.data,{email:"required|email",password:"required|alpha_dash"});return this.clientErrors=t.errors.all(),t.passes()},validateAdd:function(){var t=new T.a({newSub:this.newSub},{newSub:"required|between:3,25"});return t.setAttributeNames({newSub:"user"}),this.clientErrors=t.errors.all(),t.passes()},validateDel:function(){var t=new T.a({oldSub:this.oldSub},{oldSub:"required|between:3,25"});return t.setAttributeNames({oldSub:"user"}),this.clientErrors=t.errors.all(),t.passes()}},watch:{user:function(){this.loadSubscriptions()}},mounted:function(){this.loadSubscriptions()}}),wt=gt,Et=Object(c["a"])(wt,_t,yt,!1,null,null,null),jt=Et.exports,St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.user?s("div",{attrs:{id:"posts"}},[s("h2",[t._v("Your Subscriptions")]),t._l(t.subscribedPosts,(function(t){return s("router-link",{key:t.id,attrs:{to:"/all/"+t.id,exact:""}},[s("BlogPost",{attrs:{id:t.id}})],1)}))],2):s("div",[s("p",[t._v(" You need to be logged in to view your subscriptions. Log in on the account page. ")])])])},kt=[],Ct={name:"",components:{BlogPost:j},data:function(){return{subscriptions:[]}},computed:{user:function(){return this.$store.state.user},subscribedPosts:function(){var t=this.subscriptions,e=this.$store.state.posts.filter((function(e){var s=t.find((function(t){return t.sub==e.userName}));return void 0!==s}));return e.reverse()}},methods:{loadSubscriptions:function(){var t=this;this.user&&b.get("subscription").then((function(e){t.subscriptions=e.data.subscription.map((function(t){return t}))}))}},watch:{user:function(){this.loadSubscriptions()}},mounted:function(){this.loadSubscriptions()}},Pt=Ct,xt=Object(c["a"])(Pt,St,kt,!1,null,null,null),$t=xt.exports;o["a"].config.productionTip=!1,o["a"].use(m["a"]);var Dt=new m["a"]({mode:"history",routes:[{path:"/",component:P},{path:"/all",component:N},{path:"/submit",component:Z},{path:"/all/:id",component:vt,props:!0},{path:"/account",component:jt},{path:"/subscriptions",component:$t}]});new o["a"]({store:f,router:Dt,render:function(t){return t(d)}}).$mount("#app")},c107:function(t,e,s){},efc4:function(t,e,s){"use strict";s("c107")}});
//# sourceMappingURL=app.8c68e560.js.map